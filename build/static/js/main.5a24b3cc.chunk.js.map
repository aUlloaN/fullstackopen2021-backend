{"version":3,"sources":["Filter.js","Notification.js","PersonForm.js","Persons.js","services/persons.js","App.js","index.js"],"names":["Filter","text","handleChange","value","onChange","Notification","notification","className","state","message","PersonForm","name","number","handleNameChange","handleNumberChange","handleSubmit","onSubmit","type","Person","person","handleDelete","onClick","Persons","persons","map","baseUrl","PersonService","getAll","axios","get","then","response","data","create","personObject","post","update","personId","put","delete","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","textFilter","setTextFilter","setNotification","useEffect","initialPersons","handleNotification","setTimeout","personsToShow","trim","length","filter","toLowerCase","indexOf","event","target","preventDefault","personFound","find","window","confirm","id","returnedPerson","catch","newPerson","concat","error","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5a24b3cc.chunk.js","sourcesContent":["import React from 'react';\n\nconst Filter = ({ text, handleChange }) => {\n  return (\n    <div>\n      filter shown with: <input value={text} onChange={handleChange} />\n    </div>\n  );\n};\n\nexport default Filter;","import React from 'react';\n\nconst Notification = ({ notification }) => {\n  if (notification === null) {\n    return null;\n  }\n\n  return (\n    <div className={`notification ${notification.state}`}>\n      {notification.message}\n    </div>\n  );\n};\n\nexport default Notification;","import React from 'react';\n\nconst PersonForm = ({ name, number, handleNameChange, handleNumberChange, handleSubmit }) => {\n  return (\n    <form onSubmit={handleSubmit}>\n      <div>\n        name: <input value={name} onChange={handleNameChange} />\n      </div>\n      <div>\n        number: <input value={number} onChange={handleNumberChange} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n};\n\nexport default PersonForm;","import React from 'react';\n\nconst Person = ({ person, handleDelete }) => {\n  return (\n    <p>{person.name} {person.number} <button onClick={handleDelete}>Delete</button></p>\n  );\n};\n\nconst Persons = ({ persons, handleDelete }) => {\n  return (\n    <div>\n      {persons.map(person => (\n        <Person\n          key={person.name}\n          person={person}\n          handleDelete={() => handleDelete(person)}\n        />\n      ))}\n    </div>\n  );\n};\n\nexport default Persons;","import axios from \"axios\";\n\nconst baseUrl = '/api/persons';\n\nconst PersonService = {\n  getAll: () => {\n    return axios.get(baseUrl).then(response => response.data);\n  },\n  create: (personObject) => {\n    return axios.post(baseUrl, personObject).then(response => response.data);\n  },\n  update: (personId, personObject) => {\n    return axios.put(`${baseUrl}/${personId}`, personObject).then(response => response.data);\n  },\n  delete: (personId) => {\n    return axios.delete(`${baseUrl}/${personId}`).then(response => response.data);\n  }\n};\n\nexport default PersonService;","import React, { useState, useEffect } from 'react';\nimport Filter from './Filter';\nimport Notification from './Notification';\nimport PersonForm from './PersonForm';\nimport Persons from './Persons';\nimport PersonService from './services/persons';\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]);\n  const [ newName, setNewName ] = useState('');\n  const [ newNumber, setNewNumber ] = useState('');\n  const [ textFilter, setTextFilter ] = useState('');\n  const [ notification, setNotification ] = useState(null);\n\n  useEffect(() => {\n    PersonService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons);\n      });\n  }, []);\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const handleTextFilterChange = (event) => {\n    setTextFilter(event.target.value);\n  };\n\n  const handleNotification = (message, state) => {\n    setNotification({ message, state });\n    setTimeout(() => {\n      setNotification(null);\n    }, 4000);\n  };\n\n  const addPerson = (event) => {\n    event.preventDefault();\n    const personObject = {\n      name: newName,\n      number: newNumber\n    };\n    const personFound = persons.find(person => person.name.trim() === personObject.name.trim());\n    if (personFound) {\n      const resp = window.confirm(`${personFound.name} is already added to phonebook. Replace the old number with a new one?`);\n      if (resp) {\n        PersonService\n          .update(personFound.id, personObject)\n          .then(returnedPerson => {\n            handleNotification(`${personObject.name} was updated`, 'successful');\n            setPersons(persons.map(person => person.id !== personFound.id ? person : returnedPerson));\n            setNewName('');\n            setNewNumber('');\n          })\n          .catch(() => {\n            handleNotification(`Information of '${personFound.name}' has already been removed from server`, 'error');\n            setPersons(persons.filter(person => person.id !== personFound.id));\n          });\n      }\n    } else {\n      PersonService\n        .create(personObject)\n        .then(newPerson => {\n          handleNotification(`${personObject.name} was deleted`, 'successful');\n          setPersons(persons.concat(newPerson));\n          setNewName('');\n          setNewNumber('');\n        }).catch(error => {\n          handleNotification(`${error.response.data.error}`, 'error')\n        });\n    }\n  };\n\n  const deletePerson = (personObject) => {\n    const resp = window.confirm(`Delete ${personObject.name}?`);\n    if (resp) {\n      PersonService\n        .delete(personObject.id)\n        .then(() => {\n          handleNotification(`${personObject.name} was deleted`, 'successful');\n          setPersons(persons.filter(person => person.id !== personObject.id));\n        }).catch(() => {\n          handleNotification(`${personObject.name} had already been removed`, 'error')\n          setPersons(persons.filter(person => person.id !== personObject.id))\n        });\n    }\n  }\n\n  const personsToShow = textFilter.trim().length > 0\n    ? persons.filter(person => person.name.toLowerCase().indexOf(textFilter.trim().toLowerCase()) > -1)\n    : persons;\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification notification={notification} />\n      <Filter text={textFilter} handleChange={handleTextFilterChange} />\n      <h2>Add a new</h2>\n      <PersonForm\n        name={newName}\n        number={newNumber}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n        handleSubmit={addPerson}\n      />\n      <h2>Numbers</h2>\n      <Persons persons={personsToShow} handleDelete={deletePerson} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}